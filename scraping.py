import os
import time
import json
from tqdm import tqdm
import sys
# # with open('test1.json', 'r') as fout:
# #     data=json.load(fout)
# # with open('phdids.txt', 'r') as fout:
# #     data = fout.read().splitlines()
# # print(data)
# # for i in tqdm(range(len(data))):
# #     os.system(
# #         f'''snscrape --max-results 1000 --since 2017-01-01 --jsonl twitter-user {data[i]['user_name']}>{240+i}.json''')

# # for i in tqdm(range(len(data))):
# #     os.system(
# #         f'''snscrape --max-results 1000 --since 2017-01-01 --jsonl twitter-user {data[i]}>phd_data{i}.json''')
# data = ['Ben Recht', 'Maneesh Agrawala', 'Claire Cardie', 'Jeffrey Heer', 'Jimeng Sun', 'Michael Kearns', 'Nigel Shadbolt', 'Steve Benford', 'Tom Rodden', 'David Jones', 'Kostas Daniilidis', 'Arvind Krishnamurthy', 'Bamshad Mobasher', 'Kwan-Liu Ma', 'Margaret Martonosi', 'Nick Feamster', 'Geoffrey Challen', 'Paul Dourish', 'DanaÃ« Metaxa', 'Dong Zhang', 'Forest Agostinelli', 'Jian Yang', 'Julio Marco', 'Kristen Johnson', 'Laure Thompson', 'Meiyi Ma', 'Michael Albert', 'Steven Holtzen', 'Peter Brusilovsky', 'Rada Mihalcea', 'Somesh Jha', 'Maarten de Rijke', 'Ross Anderson', 'Kyunghyun Cho', 'Carsten Rother', 'Thad Starner', 'Chen Change Loy', 'Mayank Goel', 'Dan Suciu', 'Lothar Thiele', 'Anupam Joshi', 'Noah A. Smith', 'Gregory D. Abowd', 'Silvio Savarese', 'Aishwarya Agrawal', 'Atul Ingle', 'Bapi Chatterjee', 'Edward Chien', 'Elahe Soltanaghai', 'Jie Jiang', 'Jinwoo Choi', 'Madalina Fiterau', 'Natalie Parde', 'Sara Heitlinger', 'Sarah Wiseman', 'Steve Kroon', 'Tongyang Li', 'Anne Rogers', 'Milind Tambe',
#         'Jim Hendler', 'Peter Stone', 'Ming C. Lin', 'Maja Pantic', 'Steffen Staab', 'Thomas Brox', 'Chunhua Shen']

# final_data = []
# data2=[]
# with open('test.json', 'r') as fout:
#     final_data.extend(json.load(fout))
# for i in range(1, 7):
#     with open(f'test{i}.json', 'r') as fout:
#         final_data.extend(json.load(fout))

# for i in tqdm(range(len(data))):
#     for j in range(len(final_data)):
#         if data[i]==final_data[j]['actual_name']:
#             data2.append(final_data[j]['user_name'])
# print(data2)
# for i in tqdm(range(len(data2))):
#     os.system(
#         f'''snscrape --max-results 1000 --since 2017-01-01 --jsonl twitter-user {data2[i]}>csv_data{i}.json''')
phd = ['__ishaan', 'MelodyGuan', 'rogcraig', 'weballergy', 'chiddyafc', 'MaleLabTs', 'sachinabey', 'RobertTLange', 'andrew_ilyas', 'RogerFrigola', 'keyonV', 'james_r_lucas', 'jessemzhang', 'sorenmind', 'PaulVicol', 'WilliamBarrHeld', 'DrKVolz', 't_andy_keller', 'AndrewFoongYK', 'KeyuluXu', 'jonas_kubler', 'annabelle_cs', 'EdWagstaff', 'theo_gervet', 'MrinankSharma', 'dr_julija', 'ikwess', 'helenz1235', 'yenisel', 'arturbekasov', 'siddharthswar', 'Jay4w', 'JamesTThorn', 'rmpnegrinho', 'dianarycai', 'EdwardRaffML', 'fabienbaradel', 'craigacp', 'benrozemberczki', 'pmclsf', 'bgavran3', 'shobeirf', 'DocVPhD', 'emir_munoz', 'thampiman', 'jordan_t_ash', 'SamElder11', 'BDWissel', 'device_null', 'ericzelikman', 'brandondamos', 'cgdmtrn_', 'osuemer', 'omarsar0', 'JordanBHarrod', 'maithra_raghu', 'jacyanthis', 'MirowskiPiotr', '_beenkim', 'maxjaderberg', 'adversariel', 'TivadarDanka', 'seba1511', 'JamesAllingham', 'rbstojnic', 'GiorgioPatrini', 'StartupYou', 'felix_biggs', 'rzhang88', 'Yuhu_ai_', 'florian_tramer', 'ronnieclark__', '0xClaire', 'dna_nerd', 'SimonShaoleiDu', 'iTweetSarah', 'karen_ullrich', 'durand101', 'gkdziugaite', 'chu_data_lab', 'rizbicki', 'chiheb_tr', 'thisismadani', 'zookae', 'LedigChr', 'will_townes', 'danielleodean', 'chrisprobert', 'FullStackML', 'csteinmetz1', 'david_madras', 'weihu_', 'dannimassi', 'ssgrn', 'Qi_Lei_', 'seannyg', 'natolambert', 'michiyasunaga', 'Jonny_CBB', 'geoffrey_roeder', 'sindy_loewe',
       'martin_trapp', 'sherwang', 'joejanizek', 'DiegoNogare', 'matinathom', 'veroamilbe', 'Mizimmer90', 'BrianHie', 'DrJHoward', 'UnderdogGeek', 'pesarlin', 'lucykilloran_', 'coderphd', 'wendyranwei', 'jurodemann', '_camiloruiz', 'marcuswallacej', 'olivier_n', 'LilloCastellano', 'anca_dmtrch', 'stevain', 'zschutzy', 'oeparsons', 'ldgreef', 'filangelos', 'dzsham', 'warreth', 'emidup', 'frantic0', 'esindurmusnlp', 'AdriGarriga', 'kstratt_science', 'jbendeaton', 'MonicaNAgrawal', 'yimregister', 'hugorarbe', 'TheoLR', 'FerranAlet', 'dmshanmugam', 'vincefort', 'kasparmartens', 'denizzokt', 'HSalimbeni', 'YinCuiCV', 'ReyhaneAskari', 'zoe_ashwood', 'elraphas', 'SardelichM', 'guyd33', 'SeguiSanti', 'Nikola_MD', 'tiwa_eisape', 'jakelever0', 'Adithya_Murali_', 'breuderink', 'amlankar95', 'amyxlu', 'NogaRot', 'AggieBalayn', 'KexinHuang5', 'CeleMenDu', 'MariusHobbhahn', 'khyathi_chandu', 'gultchin', 'gasteigerjo', 'TessaRhinehart', 'VRLalchand', 'fer_jaume', 'DBBurkhardt', 'Korba_Anna', 'RafterDegen', 'HesamSalehian', 'ang3linawang', 'kirstenjmayer', 'Amirshq', 'anqiwu_angela', 'Michael_D_Moor', 'perezjln', 'DrMattRoach', 'Krauth', 'Seguin_Be', 'HarrietLDawson_', 'YujiaHuangC', 'mathinking', 'ShikharMurty', 'countablyfinite', 'ghazalfazelnia', 'BahareFatemi', 'jay_neuro', 'PatrickGr', 'carl_s_allen', 'BioGoertz', 'jerofad', 'BayesianBrad', 'EarthML1', 'niljanaakpinar', 'geospith', 'ShreyasSkandan', 'albahnsen', 'vdutor', 'risno_bas']

phd_list = ['__ishaan', 'MelodyGuan', 'rogcraig', 'weballergy', 'chiddyafc', 'MaleLabTs', 'sachinabey', 'RobertTLange', 'andrew_ilyas', 'RogerFrigola', 'keyonV', 'james_r_lucas', 'jessemzhang', 'sorenmind', 'PaulVicol', 'WilliamBarrHeld', 'DrKVolz', 't_andy_keller', 'AndrewFoongYK', 'KeyuluXu', 'jonas_kubler', 'annabelle_cs', 'EdWagstaff', 'theo_gervet', 'MrinankSharma', 'dr_julija', 'ikwess', 'helenz1235', 'yenisel', 'arturbekasov', 'siddharthswar', 'Jay4w', 'JamesTThorn', 'rmpnegrinho', 'dianarycai', 'EdwardRaffML', 'fabienbaradel', 'craigacp', 'benrozemberczki', 'pmclsf', 'bgavran3', 'shobeirf', 'DocVPhD', 'emir_munoz', 'thampiman', 'jordan_t_ash', 'SamElder11', 'BDWissel', 'device_null', 'ericzelikman', 'brandondamos', 'cgdmtrn_', 'osuemer', 'omarsar0', 'JordanBHarrod', 'maithra_raghu', 'jacyanthis', 'MirowskiPiotr', '_beenkim', 'maxjaderberg', 'adversariel', 'TivadarDanka', 'seba1511', 'JamesAllingham', 'rbstojnic', 'GiorgioPatrini', 'StartupYou', 'felix_biggs', 'rzhang88', 'Yuhu_ai_', 'florian_tramer', 'ronnieclark__', '0xClaire', 'dna_nerd', 'SimonShaoleiDu', 'iTweetSarah', 'karen_ullrich', 'durand101', 'gkdziugaite', 'chu_data_lab', 'rizbicki', 'chiheb_tr', 'thisismadani', 'zookae', 'LedigChr', 'will_townes', 'danielleodean', 'chrisprobert', 'FullStackML', 'csteinmetz1', 'david_madras', 'weihu_', 'dannimassi', 'ssgrn', 'Qi_Lei_', 'seannyg', 'natolambert', 'michiyasunaga', 'Jonny_CBB', 'geoffrey_roeder', 'sindy_loewe', 'martin_trapp', 'sherwang', 'joejanizek', 'DiegoNogare', 'matinathom', 'veroamilbe', 'Mizimmer90', 'BrianHie', 'DrJHoward', 'UnderdogGeek', 'pesarlin', 'lucykilloran_', 'coderphd', 'wendyranwei', 'jurodemann', '_camiloruiz', 'marcuswallacej', 'olivier_n', 'LilloCastellano', 'anca_dmtrch', 'stevain', 'zschutzy', 'oeparsons', 'ldgreef', 'filangelos', 'dzsham', 'warreth', 'emidup', 'frantic0', 'esindurmusnlp', 'AdriGarriga', 'kstratt_science', 'jbendeaton', 'MonicaNAgrawal', 'yimregister', 'hugorarbe', 'TheoLR', 'FerranAlet', 'dmshanmugam', 'vincefort', 'kasparmartens', 'denizzokt', 'HSalimbeni', 'YinCuiCV', 'ReyhaneAskari', 'zoe_ashwood', 'elraphas', 'SardelichM', 'guyd33', 'SeguiSanti', 'Nikola_MD', 'tiwa_eisape', 'jakelever0', 'Adithya_Murali_', 'breuderink', 'amlankar95', 'amyxlu', 'NogaRot', 'AggieBalayn', 'KexinHuang5', 'CeleMenDu', 'MariusHobbhahn', 'khyathi_chandu', 'gultchin', 'gasteigerjo', 'TessaRhinehart', 'VRLalchand', 'fer_jaume', 'DBBurkhardt', 'Korba_Anna', 'RafterDegen', 'HesamSalehian', 'ang3linawang', 'kirstenjmayer', 'Amirshq', 'anqiwu_angela', 'Michael_D_Moor', 'perezjln', 'DrMattRoach', 'Krauth', 'Seguin_Be', 'HarrietLDawson_', 'YujiaHuangC', 'mathinking', 'ShikharMurty', 'countablyfinite', 'ghazalfazelnia', 'BahareFatemi', 'jay_neuro', 'PatrickGr', 'carl_s_allen', 'BioGoertz', 'jerofad', 'BayesianBrad', 'EarthML1', 'niljanaakpinar', 'geospith', 'ShreyasSkandan', 'albahnsen', 'vdutor', 'risno_bas', 'javedali99', 'samarhdr', 'vstolbunov', 'm_finzi', 'Karan_Sabhnani', 'janmatthis', 'timudk', 'MalkovYury', 'MattBMcDermott', 'harrymvr', 'honestlyruss', 'michaelrzhang', 'patemedom', 'philipphenzler', 'rayruizhiliao', 'FranciMatano', 'Spiruel', 'michael_j_will', 'danieldazac', 'rfdickerson', 'Jalilifard', 'allanzelener', 'JacksonAKillian', 'HNisonoff', 'wouter_kool', 'giomdal', 'sam_remedios', 'CarlGrafe', 'kamilest', 'JianZhangCS', 'badr_nlp', 'janflynut', 'DanMuthukrishna', 'huiwensun_', 'pablodecm', 'tri_dao', 'BurtDavidR', 'steverab', 'HaghifamMahdi', 'kouhualin', 'yuwang_tw',
            'wichmaennchen', '__tm__157', 'AntonioE89', 'bryant1410', 'caroline_v_weis', 'random_walk', 'milenapavl', 'morenobonav', 'chris_hempel', 'JunekiHong', '_yutaroyamada', 'DaveJuergens', 'adrianbhaudio', 'casellesdupre', 'TamarRottShaham', 'richardball_', 'jonasrauber', 'eddie_monie', 'dharrisonwx', 'mariusmosbach', 'vedax', 'KhaledSaab11', 'AmandaLeo_wx', 'iamcheiktraore', 'frank8m', 'JishnuMukhoti', 'SvitozarTaras', 'JunGao33210520', 'juhokim', 'VadenMasrani', 'maxhbain', 'garydient', 'LightningSource', 'GordonJo76', 'robin_hirt', 'ArnoutDevos', 'RyanCoryWright', 'ryanbsteed', 'a1mmer', 'bveg3', 'emilydoesastro', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402', 'p_robberechts', 'willieboag', 'alina_mierlus', 'hoonkp', 'rfriedman22', 's_unter', 'furkanyesiler', 'Tuzoff', 'hebataha402']
for i in tqdm(range(len(phd_list))):
    try:
        os.system(
            f'''snscrape --max-results 1000 --since 2017-01-01 --jsonl twitter-user {phd_list[i]}>newphd_data{i}.json''')
    except:
        continue
